(function(){"use strict";var e={846:function(e,s,t){var a=t(963),i=t(252);function u(e,s,t,a,u,n){const r=(0,i.up)("the-header"),c=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(r),(0,i.Wm)(c)],64)}var n=t.p+"img/chat.4ebc5eed.svg";const r=e=>((0,i.dD)("data-v-47c69b34"),e=e(),(0,i.Cn)(),e),c={class:"nav"},o={class:"nav__container"},l={class:"logo"},m=(0,i.Uk)("LOGO"),d=r((()=>(0,i._)("img",{src:n,alt:"chat icon"},null,-1))),p=r((()=>(0,i._)("div",{class:"banner"},[(0,i._)("h2",null,"BANNER TEXT")],-1)));function h(e,s){const t=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",o,[(0,i._)("div",l,[(0,i.Wm)(t,{to:"/"},{default:(0,i.w5)((()=>[m])),_:1})]),(0,i.Wm)(t,{to:"/chat/list",class:"chat-button"},{default:(0,i.w5)((()=>[d])),_:1})]),p])}var g=t(744);const v={},f=(0,g.Z)(v,[["render",h],["__scopeId","data-v-47c69b34"]]);var b=f,_=JSON.parse('{"a":[{"username":"Denise","received":{"1":"Hi","2":"lorem ipsum","4":"quod temporibus, vero, voluptas, voluptatum?"},"sent":{"3":"hello","5":"ok"},"unread":{"6":"voluptas","7":"Praesent egestas rutrum commodo?"}},{"username":"Harriet","received":{"1":"Nullam vulputate lectus ultrices purus aliquam facilisis. Fusce pellentesque elit eget finibus rutrum?"},"sent":{},"unread":{}},{"username":"Lane","received":{"1":"hi","3":"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium asperiores at atque blanditiis culpa cumque cupiditate earum eius illo ipsum itaque, labore laborum minus natus non odio omnis, optio quidem.","5":"ok","7":"In nulla arcu, maximus vel ligula sit amet, efficitur tempus metus. Aliquam a vestibulum elit, gravida posuere et vestibulum in, tempor quis magna. Curabitur libero diam, hendrerit placerat finibus sit amet, laoreet faucibus lectus. Etiam sollicitudin tincidunt dui eget egestas. Maecenas quis nulla metus. Vivamus massa leo, placerat ut est ac, pulvinar venenatis tellus. Aenean feugiat metus ex, at faucibus ligula condimentum tincidunt. Proin pharetra diam et dui sodales rhoncus. Curabitur elementum imperdiet maximus. Pellentesque aliquet commodo tempus. Nullam fringilla scelerisque odio quis lobortis. Donec bibendum lectus vel tortor varius fringilla. Aliquam faucibus hendrerit neque et imperdiet. Praesent semper nibh ac felis volutpat, nec vestibulum turpis ornare. Maecenas viverra sed neque quis auctor. Nulla commodo tristique risus a vestibulum. Ut et dolor feugiat, euismod diam quis, dictum orci."},"sent":{"2":"hello","4":"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab accusamus accusantium assumenda consequatur cum","6":"Quod temporibus, vero, voluptas, voluptatum"},"unread":{"8":"Aliquam imperdiet scelerisque sapien ac aliquam. Morbi eu orci ac nunc dapibus dignissim ac at felis. Fusce ultrices pretium ornare. Sed sed massa velit. Mauris quam sapien, egestas ac dolor et, tincidunt porttitor justo. Nam auctor sem orci, vel malesuada justo tincidunt et. Donec sit amet odio cursus, efficitur justo vel. In condimentum vestibulum ante, ac suscipit tortor malesuada vel. Vestibulum facilisis leo non lectus semper. Vivamus lacinia, leo ut ultricies placerat, ex est ultrices orci."}},{"username":"Fernando","sent":{"1":"hello","3":"ok","5":"Fusce quis urna ac nisi pellentesque dapibus. Aenean vulputate in tellus ultricies sagittis. Proin mattis nibh eros, ac semper sem cursus quis"},"received":{"2":" Nam et purus tincidunt","4":"Maecenas quis gravida elit. Etiam egestas nisi quis diam aliquet efficitur. Nam magna massa, porta in magna sed, semper cursus purus. Maecenas velit elit, bibendum ac fermentum sed, blandit a odio. Fusce sed eros eget lectus hendrerit eleifend elementum eu dui. Mauris tempor augue ac massa ullamcorper efficitur. Ut maximus nisi a diam mattis, quis interdum nisi lacinia. Maecenas faucibus imperdiet dolor nec aliquam. Nullam eu condimentum velit. Aenean ut feugiat quam, ac porttitor velit. Donec quam orci, porta id nulla eu, ullamcorper maximus ex. Quisque et tincidunt massa. Sed sed aliquet tellus, et fringilla orci."},"unread":{}},{"username":"Rebecca Williams","received":{"1":"hi","3":"Nam laoreet, nulla eget molestie semper, felis ipsum varius massa, ac ornare tortor ex et nisl. Fusce lacinia lacus quis est malesuada, vel laoreet nisi tempus. Aenean suscipit elit id risus pharetra accumsan. Nam imperdiet in sem non pretium. Fusce hendrerit dignissim mattis. Suspendisse eros lorem, venenatis vel quam eu, mollis interdum risus.","5":"ok"},"sent":{"2":"hello","4":"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab accusamus accusantium assumenda consequatur cum","6":"Quod temporibus, vero, voluptas, voluptatum"},"unread":{}},{"username":"KaboomView","received":{"1":"Hi. Ut sit amet libero vitae ipsum suscipit sagittis at quis lectus?","3":"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium asperiores at atque blanditiis culpa cumque cupiditate earum eius illo ipsum itaque, labore laborum minus natus non odio omnis, optio quidem.","5":"ok"},"sent":{"2":"hello, sed vulputate, sem eu dapibus lobortis, massa justo pulvinar velit, maximus imperdiet lorem odio semper sapien. Quisque porta mauris ante, sit amet lobortis mi pharetra quis","4":"Sed et faucibus justo, vel ultricies enim. Nam placerat, eros eu elementum molestie, sapien lectus dapibus erat, a pulvinar mauris lorem at leo. Mauris vulputate, sapien a sagittis vulputate","6":"Vestibulum sed eros nisi"},"unread":{}},{"username":"Palanquin","received":{"1":"Mauris vulputate, sapien a sagittis vulputate, turpis lectus auctor ligula, tempus semper leo leo quis ex. Aliquam consectetur pellentesque risus, ac scelerisque orci rhoncus eget.","3":"Quisque commodo, arcu non suscipit fermentum, felis turpis scelerisque ipsum, eget facilisis ex quam eleifend mi. Accusantium asperiores at atque blanditiis culpa cumque cupiditate earum eius illo ipsum itaque, labore laborum minus natus non odio omnis, optio quidem.","5":"ok"},"sent":{"2":"Fusce accumsan luctus sem at elementum.","4":"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab accusamus accusantium assumenda consequatur cum","6":"Nunc et molestie sem. Donec ornare libero ut lectus efficitur tincidunt"},"unread":{}},{"username":"Pheasant","received":{"1":"hi","3":"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Donec tincidunt porta ligula, sed dictum tortor fringilla nec","5":"ok"},"sent":{"2":"hello","4":"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab accusamus accusantium assumenda consequatur cum","6":"Ut aliquet maximus elit, ac molestie risus tincidunt a."},"unread":{}},{"username":"Succotash","received":{"1":"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Donec tincidunt porta ligula, sed dictum tortor fringilla nec","3":"Praesent eu ipsum maximus urna fermentum molestie. Vivamus turpis nisl, elementum in auctor et, semper in mi. Nulla quis dui et est semper venenatis et sagittis urna.","5":"ok"},"sent":{"2":"Etiam bibendum enim eget dui tristique venenatis","4":"Maecenas a massa vitae lorem posuere aliquam.","6":"Vivamus eget porta magna"},"unread":{}}]}'),q={components:{TheHeader:b},data(){return{chats:[]}},provide(){return{chats:this.chats}},methods:{fetchChats(){for(let e of _.a)e.lastMessage=this.getLastMessage(e.received,e.sent,e.unread),this.chats.push(e)},getLastMessage(){let e={key:0,value:""};for(let s=0;s<arguments.length;s++)Object.entries(arguments[s]).forEach((([s,t])=>{s>e.key&&(e.key=s,e.value=t)}));return e}},created(){this.fetchChats()}};const C=(0,g.Z)(q,[["render",u]]);var w=C,k=t(201),y=t(577);function M(e,s,t,a,u,n){const r=(0,i.up)("chat-settings"),c=(0,i.up)("chat-list"),o=(0,i.up)("user-bar"),l=(0,i.up)("messages-list"),m=(0,i.up)("send-message"),d=(0,i.up)("base-card");return(0,i.wg)(),(0,i.j4)(d,{class:"grid-container"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{class:(0,y.C_)(["right-shadow","left",{hide:u.displayMessages}])},null,8,["class"]),(0,i.Wm)(c,{class:(0,y.C_)(["grid-container__left","right-shadow","left",{hide:u.displayMessages}]),isActive:u.currentChat,onOpenChat:n.triggerOpenChat},null,8,["class","isActive","onOpenChat"]),(0,i.Wm)(o,{class:(0,y.C_)(["right",{hide:!u.displayMessages}]),user:n.currentUser,onNavigateBack:n.showUsersList},null,8,["class","user","onNavigateBack"]),(0,i.Wm)(l,{class:(0,y.C_)(["messages","right",{hide:!u.displayMessages}]),messages:u.messages},null,8,["class","messages"]),(0,i.Wm)(m,{class:(0,y.C_)(["grid-container__right","right",{hide:!u.displayMessages}])},null,8,["class"])])),_:1})}var D=t.p+"img/settings.32e64bed.svg",L=t.p+"img/search.992075c4.svg";const O={class:"container"},j=(0,i.uE)('<div class="settings-bar" data-v-28127937><h2 data-v-28127937>Messages</h2><div class="circle" data-v-28127937><img src="'+D+'" data-v-28127937></div></div><div class="search" data-v-28127937><img src="'+L+'" data-v-28127937><input type="text" placeholder="Search" data-v-28127937></div>',2),W=[j];function A(e,s){return(0,i.wg)(),(0,i.iD)("div",O,W)}const I={},P=(0,g.Z)(I,[["render",A],["__scopeId","data-v-28127937"]]);var x=P,N=t.p+"img/arrow.68c05e06.svg",S=t.p+"img/avatar.f7da425c.png";const Z=e=>((0,i.dD)("data-v-6efe0d66"),e=e(),(0,i.Cn)(),e),$={class:"status-bar"},U=Z((()=>(0,i._)("img",{src:N},null,-1))),B=[U],F=Z((()=>(0,i._)("img",{src:S,class:"status-bar__img",width:"100",height:"100"},null,-1))),H={class:"status-container"},T=Z((()=>(0,i._)("p",null,"online",-1))),E=Z((()=>(0,i._)("span",null,"✕",-1))),V=[E];function z(e,s,t,a,u,n){return(0,i.wg)(),(0,i.iD)("div",$,[(0,i._)("div",{class:"back-icon",onClick:s[0]||(s[0]=(...e)=>n.navigateBack&&n.navigateBack(...e))},B),F,(0,i._)("div",H,[(0,i._)("h3",null,(0,y.zw)(t.user),1),T]),(0,i._)("div",{class:"close-icon",onClick:s[1]||(s[1]=(...e)=>n.closeChat&&n.closeChat(...e))},V)])}var Q={emits:["close-chat","navigate-back"],props:{user:{type:String,required:!1}},methods:{closeChat(){this.$emit("close-chat")},navigateBack(){this.$emit("navigate-back")}}};const Y=(0,g.Z)(Q,[["render",z],["__scopeId","data-v-6efe0d66"]]);var K=Y;const R={class:"chat__list"};function G(e,s,t,a,u,n){const r=(0,i.up)("chat-item");return(0,i.wg)(),(0,i.iD)("div",R,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.chats,(e=>((0,i.wg)(),(0,i.j4)(r,{key:e.username,username:e.username,lastMessage:e.lastMessage.value,unread:Object.keys(e.unread).length,class:(0,y.C_)({"chat__item--active":t.isActive===e}),onClick:s=>n.openChat(e)},null,8,["username","lastMessage","unread","class","onClick"])))),128))])}const J=e=>((0,i.dD)("data-v-92c2cc4e"),e=e(),(0,i.Cn)(),e),X={class:"chat-item"},ee={class:"chat-item__user"},se=J((()=>(0,i._)("img",{class:"chat-item__img",src:S,width:"100",height:"100"},null,-1))),te={class:"cut"},ae={key:0},ie={class:"chat-item__para cut"};function ue(e,s,t,a,u,n){return(0,i.wg)(),(0,i.iD)("div",X,[(0,i._)("div",ee,[se,(0,i._)("h3",te,(0,y.zw)(t.username),1),t.unread?((0,i.wg)(),(0,i.iD)("span",ae,"●")):(0,i.kq)("",!0)]),(0,i._)("p",ie,(0,y.zw)(t.lastMessage),1)])}var ne={props:{username:{type:String,required:!0},lastMessage:{type:String,required:!0},unread:{required:!1}}};const re=(0,g.Z)(ne,[["render",ue],["__scopeId","data-v-92c2cc4e"]]);var ce=re,oe={components:{ChatItem:ce},emits:["open-chat"],inject:["chats"],props:{isActive:{type:Object,required:!0}},methods:{openChat(e){this.$emit("open-chat",e)}}};const le=(0,g.Z)(oe,[["render",G],["__scopeId","data-v-515b76c2"]]);var me=le;const de={class:"messages__list"};function pe(e,s,t,a,u,n){const r=(0,i.up)("base-message");return(0,i.wg)(),(0,i.iD)("div",de,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(u.messagesList,(e=>((0,i.wg)(),(0,i.iD)("div",{class:(0,y.C_)(["messages__item","received"===e[0]?"messages__item--right":""]),key:e},[(0,i.Wm)(r,{role:e[0]},{default:(0,i.w5)((()=>[(0,i._)("p",null,(0,y.zw)(e[2]),1)])),_:2},1032,["role"])],2)))),128))])}function he(e,s,t,a,u,n){return(0,i.wg)(),(0,i.iD)("div",{class:(0,y.C_)(t.role)},[(0,i.WI)(e.$slots,"default",{},void 0,!0)],2)}var ge={props:{role:{type:String,required:!0}}};const ve=(0,g.Z)(ge,[["render",he],["__scopeId","data-v-f4336faa"]]);var fe=ve,be={components:{BaseMessage:fe},props:["messages"],data(){return{messagesList:[]}},methods:{createList(){this.messagesList=[],this.pushToList(this.messages[0].received,"received"),this.pushToList(this.messages[1].sent,"sent"),this.pushToList(this.messages[2].unread,"received")},pushToList(e,s){for(const[t,a]of Object.entries(e))this.messagesList.push([s,t,a]);this.messagesList.sort(((e,s)=>e[1]-s[1]))},scroll(){const e=this.$el.querySelector(".messages__item:last-child");e.scrollIntoView()}},watch:{messages:async function(e,s){(e||s)&&await this.createList(),this.scroll()}},async created(){this.messages.length>0&&(await this.createList(),this.scroll())}};const _e=(0,g.Z)(be,[["render",pe],["__scopeId","data-v-cecbc7b4"]]);var qe=_e;const Ce=e=>((0,i.dD)("data-v-1cd63f38"),e=e(),(0,i.Cn)(),e),we={class:"send"},ke=Ce((()=>(0,i._)("input",{type:"text"},null,-1))),ye=Ce((()=>(0,i._)("img",{src:N},null,-1))),Me=[ke,ye];function De(e,s){return(0,i.wg)(),(0,i.iD)("div",we,Me)}const Le={},Oe=(0,g.Z)(Le,[["render",De],["__scopeId","data-v-1cd63f38"]]);var je=Oe;function We(e){let s=[{received:e.received},{sent:e.sent},{unread:e.unread}];return s}var Ae={components:{SendMessage:je,MessagesList:qe,UserBar:K,ChatList:me,ChatSettings:x},inject:{chats:"chats"},data(){return{currentChat:this.chats[0],messages:[],displayMessages:!1}},methods:{triggerOpenChat(e){this.$router.push({name:"chat",params:{user:e.username}})},openChat(){this.currentChat=this.chats.find((e=>e.username===this.$route.params.user)),this.displayMessages=!0,this.messages=We(this.currentChat)},showUsersList(){this.displayMessages=!1,this.triggerOpenChat({username:"list"})}},computed:{currentUser(){return this.currentChat.username.toString()}},watch:{"$route.params.user"(e){"list"===e&&window.innerWidth<=600?this.displayMessages=!1:e&&this.openChat()}},created(){"list"!==this.$route.params.user?this.openChat():window.innerWidth>600&&this.triggerOpenChat(this.currentChat)}};const Ie=(0,g.Z)(Ae,[["render",M],["__scopeId","data-v-3a9529d6"]]);var Pe=Ie;const xe=e=>((0,i.dD)("data-v-5a0f3096"),e=e(),(0,i.Cn)(),e),Ne=xe((()=>(0,i._)("div",{class:"content-container"},null,-1))),Se={class:"chat-nav"},Ze={key:0,class:"chat-popup"};function $e(e,s,t,a,u,n){const r=(0,i.up)("nav-list"),c=(0,i.up)("chat-popup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[Ne,(0,i._)("div",Se,[(0,i.Wm)(r,{onShowPopup:n.togglePopup},null,8,["onShowPopup"])]),u.currentChat?((0,i.wg)(),(0,i.iD)("div",Ze,[(0,i.Wm)(c,{chat:u.currentChat,onCloseChat:n.togglePopup},null,8,["chat","onCloseChat"])])):(0,i.kq)("",!0)],64)}function Ue(e,s,t,a,u,n){const r=(0,i.up)("nav-item");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.chats.slice(0,8),(e=>((0,i.wg)(),(0,i.j4)(r,{key:e,onClick:s=>n.showPopup(e),user:e,badge:Object.keys(e.unread).length},null,8,["onClick","user","badge"])))),128)}const Be=e=>((0,i.dD)("data-v-6aa4c74a"),e=e(),(0,i.Cn)(),e),Fe=["data-badge"],He=Be((()=>(0,i._)("img",{src:S,alt:"user avatar",width:"100",height:"100"},null,-1))),Te={class:"left"},Ee=Be((()=>(0,i._)("i",null,null,-1)));function Ve(e,s,t,a,u,n){return(0,i.wg)(),(0,i.iD)("div",{class:"avatar-container tooltip","data-badge":t.badge>0?t.badge:null},[He,(0,i._)("div",Te,[(0,i._)("p",null,(0,y.zw)(t.user.username),1),Ee])],8,Fe)}var ze={props:["user","badge"]};const Qe=(0,g.Z)(ze,[["render",Ve],["__scopeId","data-v-6aa4c74a"]]);var Ye=Qe,Ke={components:{NavItem:Ye},inject:["chats"],emits:["show-popup"],methods:{showPopup(e){this.$emit("show-popup",e)}}};const Re=(0,g.Z)(Ke,[["render",Ue]]);var Ge=Re;const Je={class:"popup-container"};function Xe(e,s,t,a,u,n){const r=(0,i.up)("user-bar"),c=(0,i.up)("messages-list"),o=(0,i.up)("send-message"),l=(0,i.up)("base-card");return(0,i.wg)(),(0,i.iD)("div",Je,[(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r,{class:"status-bar__small",user:u.username,onCloseChat:n.closeChat},null,8,["user","onCloseChat"]),(0,i.Wm)(c,{class:"messages__list--small",messages:u.messages},null,8,["messages"]),(0,i.Wm)(o,{class:"send--small"})])),_:1})])}var es={components:{SendMessage:je,MessagesList:qe,UserBar:K},emits:["close-chat"],props:{chat:{type:Object,required:!0}},data(){return{username:null,messages:[]}},methods:{closeChat(){this.$emit("close-chat")},getChat(){this.username=this.chat.username,this.messages=We(this.chat)}},created(){this.getChat()},watch:{chat:function(e,s){e!==s&&this.getChat()}}};const ss=(0,g.Z)(es,[["render",Xe],["__scopeId","data-v-63cdc79f"]]);var ts=ss,as={components:{NavList:Ge,ChatPopup:ts},inject:["chats"],data(){return{currentChat:null}},methods:{togglePopup(e){this.currentChat=e}}};const is=(0,g.Z)(as,[["render",$e],["__scopeId","data-v-5a0f3096"]]);var us=is;const ns=(0,k.p7)({history:(0,k.r5)(),routes:[{path:"/",component:us},{path:"/chat/:user",name:"chat",component:Pe}]});var rs=ns;const cs={class:"card"};function os(e,s){return(0,i.wg)(),(0,i.iD)("div",cs,[(0,i.WI)(e.$slots,"default",{},void 0,!0)])}const ls={},ms=(0,g.Z)(ls,[["render",os],["__scopeId","data-v-1cbbdd41"]]);var ds=ms;const ps=(0,a.ri)(w);ps.component("base-card",ds),ps.use(rs),ps.mount("#app")}},s={};function t(a){var i=s[a];if(void 0!==i)return i.exports;var u=s[a]={exports:{}};return e[a](u,u.exports,t),u.exports}t.m=e,function(){var e=[];t.O=function(s,a,i,u){if(!a){var n=1/0;for(l=0;l<e.length;l++){a=e[l][0],i=e[l][1],u=e[l][2];for(var r=!0,c=0;c<a.length;c++)(!1&u||n>=u)&&Object.keys(t.O).every((function(e){return t.O[e](a[c])}))?a.splice(c--,1):(r=!1,u<n&&(n=u));if(r){e.splice(l--,1);var o=i();void 0!==o&&(s=o)}}return s}u=u||0;for(var l=e.length;l>0&&e[l-1][2]>u;l--)e[l]=e[l-1];e[l]=[a,i,u]}}(),function(){t.d=function(e,s){for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){t.p="/chat/"}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,a){var i,u,n=a[0],r=a[1],c=a[2],o=0;if(n.some((function(s){return 0!==e[s]}))){for(i in r)t.o(r,i)&&(t.m[i]=r[i]);if(c)var l=c(t)}for(s&&s(a);o<n.length;o++)u=n[o],t.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return t.O(l)},a=self["webpackChunkchat"]=self["webpackChunkchat"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(846)}));a=t.O(a)})();
//# sourceMappingURL=app.dac8cee5.js.map